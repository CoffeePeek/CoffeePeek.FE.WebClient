# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã CORS –¥–ª—è /api/user

## –ü—Ä–æ–±–ª–µ–º–∞
–ó–∞–ø—Ä–æ—Å—ã –∫ `/api/user` –≤—ã–∑—ã–≤–∞—é—Ç CORS –æ—à–∏–±–∫—É, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `/api/auth` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

## –ü—Ä–∏—á–∏–Ω–∞
–ó–∞–ø—Ä–æ—Å—ã –∫ `/api/user` —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Bearer token), –ø–æ—ç—Ç–æ–º—É –±—Ä–∞—É–∑–µ—Ä –¥–µ–ª–∞–µ—Ç preflight OPTIONS –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –ø—Ä–æ–∫—Å–∏.

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ dev —Ä–µ–∂–∏–º
```bash
npm run dev
```
**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `npm run build` –∏–ª–∏ production —Å–±–æ—Ä–∫—É!

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `vite.config.ts` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `Ctrl+C`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞: `npm run dev`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üîß Environment: { MODE: "development", DEV: true, BASE_URL: "(empty - using proxy)" }
üåê Making request: GET /api/user
üîç Base URL: (empty - using proxy)
üîç Full URL: /api/user
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è –ª–æ–≥–∏:
```
‚û°Ô∏è  Proxying request: OPTIONS /api/user -> https://nginx-dev-c5be.up.railway.app/api/user
‚¨ÖÔ∏è  Proxy response: 200 /api/user
‚û°Ô∏è  Proxying request: GET /api/user -> https://nginx-dev-c5be.up.railway.app/api/user
‚¨ÖÔ∏è  Proxy response: 200 /api/user
```

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
–í Network tab –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Network):
- –ó–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ –∫ `http://localhost:3000/api/user` (–ù–ï –∫ `https://nginx-dev-c5be...`)
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `https://nginx-dev-c5be...`, –∑–Ω–∞—á–∏—Ç BASE_URL –Ω–µ –ø—É—Å—Ç–∞—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
- Hard refresh: `Ctrl+Shift+R` (Windows) –∏–ª–∏ `Cmd+Shift+R` (Mac)
- –ò–ª–∏: DevTools ‚Üí Network ‚Üí Disable cache

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç —Ñ–∞–π–ª–∞ `.env` —Å `VITE_USE_LOCAL_API=true` –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ BASE_URL.

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ)
–ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è CORS (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
- Chrome: "CORS Unblock" –∏–ª–∏ "Allow CORS: Access-Control-Allow-Origin"
- –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Chrome —Å —Ñ–ª–∞–≥–æ–º: `chrome.exe --user-data-dir="C:/Chrome dev session" --disable-web-security`

**–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ production!



